### **竞赛任务理解与指导建议**  
（目标：帮助本科生团队高效备赛，争取获奖）

---

#### **1. 任务核心要求**
- **目标**：基于定位CT图像，实现 **早期非小细胞肺癌（NSCLC）放疗靶区的自动勾画**。 （语义分割） 
- **数据**：  
  - 训练集：160例患者的CT图像 + 医生勾画的靶区（金标准）。  
  - 测试集：40例患者的CT图像（需提交自动勾画结果）。  
- **评价指标**：  
  - **核心指标**：DICE系数（重叠率）、95% Hausdorff距离（边界误差）、RAVD（相对体积差异）。  
  - **附加指标**：Jaccard指数、推理时间（效率）。  
- **提交内容**：  
  - 初赛：设计报告 + 勾画结果。  
  - 决赛：Docker镜像（代码、模型、环境封装）。  

---

#### **2. 关键技术点分析**
##### （1）**数据预处理**  
- **CT图像归一化**：将CT值（Hounsfield Unit, HU）标准化到固定范围（如[-1000, 1000]），避免设备差异影响。  
- **靶区对齐**：确保CT图像与医生勾画标签的空间一致性（检查DICOM文件中的坐标信息）。  
- **数据增强**：旋转、翻转、弹性形变等（需避免破坏肿瘤形态）。  
- **以上都是deepseek说的，我觉得没什么必要，数据集比较干净**

##### （2）**模型选择**  
- **主流方法**：  
  - **U-Net家族**：3D U-Net、V-Net（适合医学图像分割，计算量适中）。  
  - **Transformer模型**：Swin-UNet、TransUNet（长程依赖捕捉能力强，但需要更多数据）。  
  - **轻量化模型**：NNU-Net（自动调参，适合快速原型开发）。  
- **改进方向**：  
  - **多尺度特征融合**：添加金字塔池化模块（如PSPNet）或空洞卷积（如DeepLab）。  
  - **注意力机制**：CBAM（通道+空间注意力）或Non-local模块，提升肿瘤区域敏感性。  

##### （3）**后处理优化** 
- **去除小连通域**：滤除噪声导致的假阳性区域。  
- **形态学操作**：闭运算填充空洞，平滑边界。  
- **体积约束**：根据临床先验知识（如肿瘤最大直径）过滤不合理预测。  

##### （4）**评价指标优化**  
- **DICE系数**：直接优化损失函数（如DICE Loss）
- **Hausdorff距离**：通过边界细化（如CRF后处理）减少离群点
- **推理时间**：模型剪枝等  

---

#### **3. 备赛策略**
##### **阶段1：快速基线**
- **任务**：理解语义分割，包括怎么网络提取特征，怎么和标签计算loss；搭建基础分割模型，跑通全流程。  
- **推荐工具**：  
  - 框架：PyTorch + MONAI（医学影像专用库）。  
  - 数据加载：SimpleITK或NiBabel处理DICOM/NIfTI数据。  
  - 数据集查看软件：ITK-SNAP、RadiAnt DICOM Viewer
  - 格式转换(Dicom to nii.gz): MRIcroGL
- **基线模型**：3D U-Net、Swin-Unetr（MONAI提供预训练版本）。  
- **关键输出**：初步DICE系数（≥0.75可进入优化阶段）。  

##### **阶段2：性能提升**
- **改进方向**：  
  - **数据层面**：  
    - 分析训练集中肿瘤的分布（大小、位置），针对性增强（如小肿瘤过采样）。  
    - 找其他的非小细胞癌临床数据集，增强泛化性能
  - **模型层面**：替换骨干网络，不断试错，对比推理时间  
  - **损失函数**：组合DICE Loss + Boundary Loss（找论文看）。  

##### **阶段3：决赛冲刺**
- **稳定性验证**：  
  - 在测试集上交叉验证，避免过拟合。  
  - 检查极端案例（如靠近胸膜的肿瘤）的处理效果（主要还是要泛化性能，看的是测试集的分数）。  

- **报告与展示**：  
  - **设计报告要点**：  
    - 突出创新点（如“基于xxx机制的靶区勾画”）。  
    - 附模型结构图、训练曲线、消融实验对比表。  
  - **Docker封装**：  
    - 基础镜像：`pytorch:2.0.0-cuda11.8`。  
    - 依赖：明确列出（如`monai==1.2.0`）。  
    - git找个示例学习下

---

#### **4. 获奖关键点**
- **技术亮点**：  
  - 提出1-2个创新点（如“动态权重调整的混合损失函数”）。  
  - 在报告中用实验数据证明其有效性（如DICE提升3%）。  
- **鲁棒性**：  
  - 测试集指标稳定，无极端异常值。  
  - 处理特殊案例（如肿瘤与血管粘连）的策略。  
- **工程完整性**：  
  - Docker镜像一键运行，无依赖错误。  
  - 提供推理脚本和示例数据。  

---

#### **5. 避坑指南**
- **数据问题（deepseek说的，应该不会出现这个问题）**：  
  - 检查标签与CT图像是否对齐（尤其注意层厚不一致的DICOM数据）。  
  - 处理缺失或异常标签（如空标签）。  
- **过拟合**：  
  - 使用早停（Early Stopping）和K折交叉验证。  
  

---

#### **6. 资源推荐**
- **代码库**：  
  - [MONAI](https://monai.io/)（医学影像深度学习框架）。  
  - [nnUNet](https://github.com/MIC-DKFZ/nnUNet)（自动调参工具）。  

- CNN explainer
  - https://poloclub.github.io/cnn-explainer/

---

### **总结**
- **短期目标**：2周内完成基线模型，确保流程跑通。  
- **长期策略**：聚焦1-2个创新点，持续优化模型。  
- **团队分工**：  
  - 1人负责数据预处理与增强，  
  - 1人负责模型搭建与训练，  
  - 1人负责后处理与Docker封装。  

